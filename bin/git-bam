#!/bin/sh

# Deletes all local branches that have been merged into master/main... BAM!

root='master'
has_main=$(git branch --list main)

if [ ! -z "$has_main" ]
then
  root='main'
fi

branches=$(git branch --merged $root | grep -v $root | tr '\n', ' ')

if [ ! -z "$branches" ]
then
  git branch -d $branches
else
  echo 'No branches to delete.'
fi
